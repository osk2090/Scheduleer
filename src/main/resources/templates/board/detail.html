<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
      xmlns:th="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Detail</title>
</head>
<body>
<!--<img id="img" src="">-->
<!--<button onclick="change()">클릭</button>-->
<!--<input th:id="test" value="">-->

<!--<form th:action="@{'/update/' + ${boardDetail.id}}" method="POST" name="checkStarForm">-->
<!--    <input type="hidden" name="_method" value="put"/>-->

    <input type="hidden" name="id" th:value="${boardDetail.id}">
    <input type="text" name="title" th:value="${boardDetail.title}" disabled>
    <input type="text" name="writer.name" th:value="${boardDetail.writer.name}" disabled>

    <img id="image" src=""/>
    <input type="text" id="check" name="checkStar" th:value="${boardDetail.checkStar}" disabled><br>

    작성일자 : <input type="text" name="writer.name" th:value="${boardDetail.regDate}" disabled>
    계획 달성 일자: <input type="text" name="writer.name" th:value="${boardDetail.updateDate}" disabled><br>

<!--    <textarea name="content" readonly="readonly" th:value="${boardDetail.content}" ></textarea><br>-->
<!--    <input type="text" name="content" th:value="${boardDetail.content}" disabled>-->

    <div sec:authorize="hasAnyRole('ROLE_USER','ROLE_ADMIN')" class="nav-item">
<!--        <button type="button" class="navyBtn" th:href="@{/board/update/{id}(id=${boardDetail.id})}">수정하기</button>-->
        <a th:href="@{/board/update/{id}(id=${boardDetail.id})}">
            <button>수정</button>
        </a>
    </div>
    <button type="button" class="navyBtn" onclick="location.href='/main'">이전으로</button>

<!--</form>-->
</body>
</html>

<script type="text/javascript">
    state = document.getElementById('check').value;
    if (state === 'false') {
        document.getElementById('image').src = '/image/unchecked.svg';
    } else {
        document.getElementById('image').src = '/image/checked.svg';
    }

    //여기에 있는 거를 따로 수정하는 페이지로 넘어가서 수정할 수 있게 하가~!
    function changeImage() {
        let e = document.getElementById('check').value;
        console.log(e);
        if (e === 'false') {
            document.getElementById('check').value = 'true';
            document.getElementById('image').src = '/image/checked.svg';
        } else {
            document.getElementById('check').value = 'false';
            document.getElementById('image').src = '/image/unchecked.svg';
        }
    }

</script>